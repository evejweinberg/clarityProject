<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Clarity</title>

    <style media="screen">
      body{
        width: 100%;
        height: 100%;
        margin: auto;
        position: absolute;
        top:0px;
        left:0px;
      }

      h1{
        text-align: center;
      }

      .big{
        font-size: 40px;
        color: black;
      }

      .head{
        position: absolute;
        width: 5vw;
        height: 5vw;
        /*border: red solid 2px;*/
        z-index: 10;
      }

      .head > img{
        object-fit: cover;
        width: 100%;
        height: 100%;

      }

      #image-all-holder{
        /*background-image: url("img/all.png");*/
        background-size: 100% auto;
        position: fixed;
        height: 60vw;
        width: 100%;
        z-index: 20;
        /*border: blue solid 2px;*/
        background-repeat: no-repeat;;

      }

      #bg-img{
        /*background-image: url("img/all.png");*/
        position: fixed;
        width: 100%;
        /*border: green solid 2px;*/

      }

      .adjectives{
        margin-top: 1vw;
        padding: 1vw;
        background-color: white;
        /*border: 2px pink solid;*/
        left: 50%;
        position: absolute;
        z-index: 30;
        width:50vw;
        transform: translateX(-25vw);
        /*height: 12vw;*/
        /*box-shadow: 2px 2px 2px rgba(0,0,0,.4)*/
      }
    </style>


  </head>
  <body>

    <script src="js/tabletop.js"></script>
    <script src="js/people.js">

    </script>

    <!-- <script src="js/gss.js"></script> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

      <h1>WHO IS RUNNING OUR COUNTRY?</h1>


<div id="bg-img" >

  <!-- <div class="adjectives" id="description">
    Type goes in here

  </div> -->


      <div id="image-all-holder">

    </div>



</div>


    <script type="text/javascript">

    var colors = ["#a63251", "#010540", "#65a6bf", "#f2d9ba","#f2695c"]


    window.onload = function(){
      DrawData(people)

    };



    function DrawData(data) {

      //loop through all objects in the json
      for (var i in data){

        //create a div for each one, give it the class so it gets styled from the css
        var div = document.createElement('div')
        document.body.appendChild(div);
        div.className = "head";
        div.id = 'div'+i
        div.style.top = '50%'
        div.style.left = i*50 + 'px'
        // if (data[i].top != ""){  div.style.top = data[i].top}
        // else {div.style.top = 4*i+"%"; console.log('choose top for '+ i)}
        // if (data[i].left != "")
        // {div.style.left = data[i].left}
        // else {div.style.left = "1%"; console.log('choose left for '+ i)}

        //add image to the div, as a child
        var img = document.createElement('img')
        img.src = data[i].url
        img.className = "images"
        img.id = "0"+i + "0-images"
        div.appendChild(img)


        var string = "''"+ data[i].info+ "''"
        var newstring =  string.replace(/99/g, "<span class= 'big'>");
        var newstring2 =  newstring.replace(/98/g, "</span>");


        //create a div for the info of that person
        var divdescr = document.createElement('div');
        divdescr.innerHTML =  '<strong>'+ data[i].name + '</strong><br>' + data[i].position + '<br> Age: '+ data[i].age + '<br>'+ newstring2;
        divdescr.className = "adjectives";
        divdescr.style.color = colors[i%colors.length];
        divdescr.style.display = "none"
        divdescr.id='adjectives0'+i
        document.body.appendChild(divdescr);


        var elems = $('.images');
        var texts = $('.adjectives');
        elems.on('mouseenter mouseleave', function(e) {
          // console.log(this)
          var num = this.id[0]+this.id[1]+this.id[2]
         var numA = this.id[0]+this.id[1]

          if (this.id[2]==0){
            console.log("adjectives"+numA)
            $('#adjectives'+numA).fadeIn()
            // document.getElementById("adjectives"+numA).style.display = 'block'
          } else {
            // console.log("adjectives"+num)
            $('#adjectives'+num).fadeIn()
            // document.getElementById("adjectives"+num).style.display = 'block'

          }

          for (var i in people){

            // document.getElementById("adjectives"+num).style.display = 'block'


              // document.getElementById('div'+i)

          }

          // texts.not(this).stop(true).fadeTo('fast', e.type=='mouseenter'?1:0);

          // elems.not(this).stop(true).fadeTo('fast', e.type=='mouseenter'?0.5:1);
        });



        //actions on rollover
        //for each item, get it's id and do this on mouseover
        // $('.adjectives').each(function(obj) {
        // document.getElementById('div'+i).onmouseover = function () {



        //     console.log(obj)
        //
        //     if (obj == this){
        //       // console.log(this)
        //     } else {
        //
        //       if (this.id.length>4){
        //         // document.getElementById("adjectives"+this.id[3]+this.id[4]).style.display = 'block'
        //       }
        //       //if we are in single digits
        //       else {
        //         // document.getElementById("adjectives"+this.id[3]).style.display = 'block'
        //       }
        //
        //     }
        //
        //   });
        // }

          //this is clunky and round about with the double digit thing, but oh well
          //if we are in double digits
          // if (this.id.length>4){
          //   document.getElementById("adjectives"+this.id[3]+this.id[4]).style.display = 'block'
          // }
          // //if we are in single digits
          // else {
          //   document.getElementById("adjectives"+this.id[3]).style.display = 'block'
          // }


        // }

        //action when mouse is not on rollover
        // document.getElementById('div'+i).onmouseout = function () {
        //   //if we are in double digits
        //   if (this.id.length>4){
        //     document.getElementById("adjectives"+this.id[3]+this.id[4]).style.display = 'none'
        //   }
        //   //if we are in single digits
        //   else {
        //     document.getElementById("adjectives"+this.id[3]).style.display = 'none'
        //
        //   }
        // }
    }
  }




    </script>

  </body>
</html>
